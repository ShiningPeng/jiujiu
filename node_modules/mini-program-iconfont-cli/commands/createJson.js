#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var path_1 = tslib_1.__importDefault(require("path"));
var fs_1 = tslib_1.__importDefault(require("fs"));
var fs_extra_1 = tslib_1.__importDefault(require("fs-extra"));
var colors_1 = tslib_1.__importDefault(require("colors"));
var minimist_1 = tslib_1.__importDefault(require("minimist"));
var args = minimist_1.default(process.argv.slice(2));
var outputPath = 'iconfont.json';
if (args.output && typeof args.output === 'string') {
    outputPath = args.output;
    if (outputPath.split('.').pop() !== 'json') {
        outputPath += '.json';
    }
}
var targetFile = path_1.default.resolve(outputPath);
if (fs_1.default.existsSync(targetFile)) {
    console.error(colors_1.default.red("File \"" + outputPath + "\" was created before."));
}
else {
    // fs.copyFileSync only can be used above node v8.5.0+
    fs_extra_1.default.copySync(path_1.default.join(__dirname, '../libs/iconfont.json'), targetFile);
    console.log(colors_1.default.green("File \"" + outputPath + "\" is created now. We recommend you add it to version control."));
}
